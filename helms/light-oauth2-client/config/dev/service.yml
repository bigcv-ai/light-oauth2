# Singleton service factory configuration/IoC injection
singletons:
# StartupHookProvider implementations, there are one to many and they are called in the same sequence defined.
- com.networknt.server.StartupHookProvider:
  - com.networknt.oauth.cache.CacheStartupHookProvider
# ShutdownHookProvider implementations, there are one to many and they are called in the same sequence defined.
- com.networknt.server.ShutdownHookProvider:
  - com.networknt.oauth.cache.CacheShutdownHookProvider

- javax.sql.DataSource:
  - com.zaxxer.hikari.HikariDataSource:
      jdbcUrl: ${SERVICE_DATASOURCE_JDBC_URL:jdbc:mysql://mysqldb:3306/oauth2?useSSL=false&disableMariaDbDriver}
      username: ${SERVICE_DATASOURCE_USERNAME:mysqluser}
      password: ${SERVICE_DATASOURCE_PASSWORD:mysqlpw}
      maximumPoolSize: ${SERVICE_DATASOURCE_MAXIMUM_POOL_SIZE:2}
      useServerPrepStmts: ${SERVICE_DATASOURCE_USE_SERVER_PREP_STMTS:true}
      cachePrepStmts: ${SERVICE_DATASOURCE_CACHE_PREP_STMTS:true}
      cacheCallableStmts: ${SERVICE_DATASOURCE_CACHE_CALLABLE_STMTS:true}
      prepStmtCacheSize: ${SERVICE_DATASOURCE_PREP_STMT_CACHE_SIZE:4096}
      prepStmtCacheSqlLimit: ${SERVICE_DATASOURCE_PREP_STMT_CACHE_SQL_LIMIT:2048}
